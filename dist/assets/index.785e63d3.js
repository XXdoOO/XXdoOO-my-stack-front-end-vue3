import{d as C,r as g,s as V,a as R,u as G,o as $,b as D,c as p,e as f,f as e,g as t,w as c,n as T,h as N,v as j,i as z,j as l,k as b,t as y,l as O,m as I,p as U,q as K,_ as A,x as M,y as P,z as Y,A as m,L as q,B as S,C as X,D as F,F as J}from"./index.2adfa20b.js";import{C as Q}from"./index.3cbb961e.js";const w=n=>(S("data-v-a9c4b67c"),n=n(),X(),n),W={class:"container"},Z=w(()=>e("span",null,"My Stack",-1)),ee={class:"search-input"},oe={key:1,class:"my"},te=["src"],se={class:"hover-popup"},ne={class:"nickname"},ae={class:"my-count"},ue=w(()=>e("span",null,"\u53D1\u5E03",-1)),le=w(()=>e("span",null,"\u9876\u8FC7",-1)),ce=w(()=>e("span",null,"\u8E29\u8FC7",-1)),re=C({__name:"MyHeader",setup(n){let r=g(0),a=g(0);const d=V(),{userInfo:u}=R(d),i=()=>{let s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,o=s-r.value;r.value=s,o<0?a.value=a.value-o>0?0:a.value-o:a.value=a.value-o<-70?-71:a.value-o},v=g(G().params.keywords),k=Y(),E=s=>{k.push(`/search/${s}`)},H=()=>{Q("\u786E\u8BA4\u9000\u51FA\u8D26\u53F7\u5417?",()=>{U().then(()=>{d.removeUserInfo(),k.push("/")})})},L=()=>{const s=new FormData;s.append("title","\u65E0"),s.append("description","\u65E0"),s.append("content","# \u8BF7\u4F7F\u7528markdown\u8BED\u6CD5\n ## \u5F00\u59CB\u4F60\u7684\u8868\u6F14\n```js\nlet f = new Func();\nconsole.log(f.__proto__); // Object\n```"),K(s).then(o=>{k.push(`/edit/${o}`)})};return $(()=>{window.addEventListener("scroll",i)}),D(()=>{window.removeEventListener("scroll",i)}),(s,o)=>{const B=A,_=M("router-link"),x=P;return p(),f("header",{class:"header-block",style:I({top:l(a)+"px","box-shadow":l(a)===-70?"none":"0px 8px 25px 20px rgba(44, 16, 111, 0.06)"})},[e("div",W,[t(_,{class:"logo",to:"/"},{default:c(()=>[t(B,{class:"icon",icon:"edit",isActive:!1}),Z]),_:1}),e("nav",null,[t(_,{to:"/",class:T({active:s.$route.path=="/"})},{default:c(()=>[m("\u9996\u9875")]),_:1},8,["class"]),t(_,{to:"/my",class:T({active:s.$route.path.split("/")[1]=="my"})},{default:c(()=>[m("\u6211\u7684")]),_:1},8,["class"])]),e("div",ee,[N(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD","onUpdate:modelValue":o[0]||(o[0]=h=>v.value=h),onKeyup:o[1]||(o[1]=z(h=>E(v.value),["enter"]))},null,544),[[j,v.value]]),t(B,{icon:"search",class:"icon",onClick:o[2]||(o[2]=h=>E(v.value)),title:"\u70B9\u51FB\u641C\u7D22"})]),l(u)?b("",!0):(p(),f("span",{key:0,class:"login",onClick:o[3]||(o[3]=h=>l(q)())},"\u767B\u5F55/\u6CE8\u518C")),l(u)?(p(),f("div",oe,[e("img",{src:`/api${l(u).avatar}`,alt:"",width:"50",height:"50"},null,8,te),e("div",se,[e("span",ne,y(l(u).nickname),1),e("nav",ae,[t(_,{to:"/my"},{default:c(()=>[e("span",null,y(l(u).passCount),1),ue]),_:1}),t(_,{to:"/my/up"},{default:c(()=>[e("span",null,y(l(u).up),1),le]),_:1}),t(_,{to:"/my/down"},{default:c(()=>[e("span",null,y(l(u).down),1),ce]),_:1})]),t(_,{class:"my-menu",to:"/my"},{default:c(()=>[m("\u4E2A\u4EBA\u4E2D\u5FC3")]),_:1}),l(u).admin?(p(),O(_,{key:0,class:"my-menu",to:"/admin/blog"},{default:c(()=>[m("\u7BA1\u7406\u540E\u53F0")]),_:1})):b("",!0),t(x,{type:"primary",onClick:L},{default:c(()=>[m("\u5F00\u59CB\u521B\u4F5C")]),_:1}),t(x,{type:"danger",onClick:H},{default:c(()=>[m("\u9000\u51FA\u767B\u5F55")]),_:1})])])):b("",!0)])],4)}}});const _e=F(re,[["__scopeId","data-v-a9c4b67c"]]);const de={},ie=n=>(S("data-v-a7c8fbef"),n=n(),X(),n),pe={class:"footer-block"},me=ie(()=>e("nav",{class:"container"},[e("div",null,[e("a",{href:"https://github.com/XXdoOO/my-stack-front-end",target:"_blank"}," GitHub\u524D\u7AEF\u5730\u5740\uFF1Ahttps://github.com/XXdoOO/my-stack-front-end-vue3 "),e("a",{href:"https://github.com/XXdoOO/my-stack-front-end",target:"_blank"}," GitHub\u540E\u7AEF\u5730\u5740\uFF1Ahttps://github.com/XXdoOO/my-stack-back-end ")]),e("a",{href:"https://beian.miit.gov.cn/",target:"_blank"},"\u6E58ICP\u59072022006790\u53F7")],-1)),ve=[me];function fe(n,r){return p(),f("footer",pe,ve)}const he=F(de,[["render",fe],["__scopeId","data-v-a7c8fbef"]]),ye=C({__name:"GoTop",setup(n){const r=g("none"),a=()=>{document.documentElement.scrollTop=0},d=()=>{let u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=window.outerHeight;u>i?r.value="flex":r.value="none"};return $(()=>{window.addEventListener("scroll",d)}),D(()=>{window.removeEventListener("scroll",d)}),(u,i)=>(p(),O(A,{icon:"arrow-down",onClick:i[0]||(i[0]=v=>a()),class:"goTop",style:I({display:r.value}),title:"\u8FD4\u56DE\u9876\u90E8"},null,8,["style"]))}});const ge=F(ye,[["__scopeId","data-v-6c38f624"]]),be=C({__name:"index",setup(n){return(r,a)=>{const d=M("RouterView");return p(),f(J,null,[t(_e),t(d),t(he),t(ge)],64)}}});export{be as default};
