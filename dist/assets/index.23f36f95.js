import{d as $,r as g,s as M,a as S,u as X,o as T,b as V,c as i,e as p,f as e,g as o,w as a,n as B,h as R,v as H,i as L,j as s,k,t as v,l as N,m as U,p as z,_ as G,q as E,x as K,y as j,z as _,L as q,A as I,B as O,C as A,F as P}from"./index.1004bd66.js";import{C as Y}from"./index.001a9474.js";const y=n=>(I("data-v-faa61c1f"),n=n(),O(),n),J={class:"container"},Q=y(()=>e("span",null,"My Stack",-1)),W={class:"search-input"},Z={key:1,class:"my"},ee=["src"],te={class:"hover-popup"},oe={class:"nickname"},se={class:"my-count"},ne=y(()=>e("span",null,"\u53D1\u5E03",-1)),ae=y(()=>e("span",null,"\u9876\u8FC7",-1)),ue=y(()=>e("span",null,"\u8E29\u8FC7",-1)),le=$({__name:"MyHeader",setup(n){let m=g(0),u=g(0);const d=M(),{userInfo:l}=S(d);d.setUserInfo();const C=()=>{let r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=r-m.value;m.value=r,t<0?u.value=u.value-t>0?0:u.value-t:u.value=u.value-t<-70?-71:u.value-t},f=g(X().params.keywords),b=j(),w=r=>{b.push(`/search/${r}`)},D=()=>{Y("\u786E\u8BA4\u9000\u51FA\u8D26\u53F7\u5417?",()=>{z().then(()=>{d.removeUserInfo(),b.push("/")})})};return T(()=>{window.addEventListener("scroll",C)}),V(()=>{window.removeEventListener("scroll",C)}),(r,t)=>{const F=G,c=E("router-link"),x=K;return i(),p("header",{class:"header-block",style:U({top:s(u)+"px","box-shadow":s(u)===-70?"none":"0px 8px 25px 20px rgba(44, 16, 111, 0.06)"})},[e("div",J,[o(c,{class:"logo",to:"/"},{default:a(()=>[o(F,{class:"icon",icon:"edit",isActive:!1}),Q]),_:1}),e("nav",null,[o(c,{to:"/",class:B({active:r.$route.path=="/"})},{default:a(()=>[_("\u9996\u9875")]),_:1},8,["class"]),o(c,{to:"/my",class:B({active:r.$route.path.split("/")[1]=="my"})},{default:a(()=>[_("\u6211\u7684")]),_:1},8,["class"])]),e("div",W,[R(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD","onUpdate:modelValue":t[0]||(t[0]=h=>f.value=h),onKeyup:t[1]||(t[1]=L(h=>w(f.value),["enter"]))},null,544),[[H,f.value]]),o(F,{icon:"search",class:"icon",onClick:t[2]||(t[2]=h=>w(f.value)),title:"\u70B9\u51FB\u641C\u7D22"})]),s(l)?k("",!0):(i(),p("span",{key:0,class:"login",onClick:t[3]||(t[3]=h=>s(q)())},"\u767B\u5F55/\u6CE8\u518C")),s(l)?(i(),p("div",Z,[e("img",{src:`/api${s(l).avatar}`,alt:"",width:"50",height:"50"},null,8,ee),e("div",te,[e("span",oe,v(s(l).nickname),1),e("nav",se,[o(c,{to:"/my"},{default:a(()=>[e("span",null,v(s(l).passCount),1),ne]),_:1}),o(c,{to:"/my/up"},{default:a(()=>[e("span",null,v(s(l).up),1),ae]),_:1}),o(c,{to:"/my/down"},{default:a(()=>[e("span",null,v(s(l).down),1),ue]),_:1})]),o(c,{class:"my-menu",to:"/my"},{default:a(()=>[_("\u4E2A\u4EBA\u4E2D\u5FC3")]),_:1}),s(l).admin?(i(),N(c,{key:0,class:"my-menu",to:"/admin/blog"},{default:a(()=>[_("\u7BA1\u7406\u540E\u53F0")]),_:1})):k("",!0),o(x,{type:"primary",href:"/edit"},{default:a(()=>[_("\u5F00\u59CB\u521B\u4F5C")]),_:1}),o(x,{type:"danger",onClick:D},{default:a(()=>[_("\u9000\u51FA\u767B\u5F55")]),_:1})])])):k("",!0)])],4)}}});const ce=A(le,[["__scopeId","data-v-faa61c1f"]]);const re={},_e=n=>(I("data-v-fa9b54f6"),n=n(),O(),n),ie={class:"footer-block"},de=_e(()=>e("nav",{class:"container"},[e("div",null,[e("a",{href:"https://github.com/XXdoOO/my-stack-front-end",target:"_blank"}," GitHub\u524D\u7AEF\u5730\u5740\uFF1Ahttps://github.com/XXdoOO/my-stack-front-end "),e("a",{href:"https://github.com/XXdoOO/my-stack-front-end",target:"_blank"}," GitHub\u540E\u7AEF\u5730\u5740\uFF1Ahttps://github.com/XXdoOO/my-stack-back-end ")]),e("a",{href:"https://beian.miit.gov.cn/",target:"_blank"},"\u6E58ICP\u59072022006790\u53F7")],-1)),pe=[de];function me(n,m){return i(),p("footer",ie,pe)}const fe=A(re,[["render",me],["__scopeId","data-v-fa9b54f6"]]),ye=$({__name:"index",setup(n){return(m,u)=>{const d=E("RouterView");return i(),p(P,null,[o(ce),o(d),o(fe)],64)}}});export{ye as default};
