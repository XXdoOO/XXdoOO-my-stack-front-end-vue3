import{d as b,r as g,s as L,a as V,u as R,o as $,b as D,c as p,e as f,f as e,g as t,w as u,n as B,h as G,v as N,i as z,j as l,k,t as h,l as I,m as O,p as U,_ as A,q as M,x as K,y as Y,z as m,L as j,A as S,B as X,C,F as q}from"./index.248bf2b7.js";import{C as P}from"./index.b63e08f3.js";const w=s=>(S("data-v-1c89e97e"),s=s(),X(),s),J={class:"container"},Q=w(()=>e("span",null,"My Stack",-1)),W={class:"search-input"},Z={key:1,class:"my"},ee=["src"],te={class:"hover-popup"},oe={class:"nickname"},se={class:"my-count"},ne=w(()=>e("span",null,"\u53D1\u5E03",-1)),ae=w(()=>e("span",null,"\u9876\u8FC7",-1)),le=w(()=>e("span",null,"\u8E29\u8FC7",-1)),ue=b({__name:"MyHeader",setup(s){let c=g(0),n=g(0);const _=L(),{userInfo:a}=V(_),d=()=>{let i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,o=i-c.value;c.value=i,o<0?n.value=n.value-o>0?0:n.value-o:n.value=n.value-o<-70?-71:n.value-o},v=g(R().params.keywords),x=Y(),E=i=>{x.push(`/search/${i}`)},H=()=>{P("\u786E\u8BA4\u9000\u51FA\u8D26\u53F7\u5417?",()=>{U().then(()=>{_.removeUserInfo(),x.push("/")})})};return $(()=>{window.addEventListener("scroll",d)}),D(()=>{window.removeEventListener("scroll",d)}),(i,o)=>{const F=A,r=M("router-link"),T=K;return p(),f("header",{class:"header-block",style:O({top:l(n)+"px","box-shadow":l(n)===-70?"none":"0px 8px 25px 20px rgba(44, 16, 111, 0.06)"})},[e("div",J,[t(r,{class:"logo",to:"/"},{default:u(()=>[t(F,{class:"icon",icon:"edit",isActive:!1}),Q]),_:1}),e("nav",null,[t(r,{to:"/",class:B({active:i.$route.path=="/"})},{default:u(()=>[m("\u9996\u9875")]),_:1},8,["class"]),t(r,{to:"/my",class:B({active:i.$route.path.split("/")[1]=="my"})},{default:u(()=>[m("\u6211\u7684")]),_:1},8,["class"])]),e("div",W,[G(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD","onUpdate:modelValue":o[0]||(o[0]=y=>v.value=y),onKeyup:o[1]||(o[1]=z(y=>E(v.value),["enter"]))},null,544),[[N,v.value]]),t(F,{icon:"search",class:"icon",onClick:o[2]||(o[2]=y=>E(v.value)),title:"\u70B9\u51FB\u641C\u7D22"})]),l(a)?k("",!0):(p(),f("span",{key:0,class:"login",onClick:o[3]||(o[3]=y=>l(j)())},"\u767B\u5F55/\u6CE8\u518C")),l(a)?(p(),f("div",Z,[e("img",{src:`/api${l(a).avatar}`,alt:"",width:"50",height:"50"},null,8,ee),e("div",te,[e("span",oe,h(l(a).nickname),1),e("nav",se,[t(r,{to:"/my"},{default:u(()=>[e("span",null,h(l(a).passCount),1),ne]),_:1}),t(r,{to:"/my/up"},{default:u(()=>[e("span",null,h(l(a).up),1),ae]),_:1}),t(r,{to:"/my/down"},{default:u(()=>[e("span",null,h(l(a).down),1),le]),_:1})]),t(r,{class:"my-menu",to:"/my"},{default:u(()=>[m("\u4E2A\u4EBA\u4E2D\u5FC3")]),_:1}),l(a).admin?(p(),I(r,{key:0,class:"my-menu",to:"/admin/blog"},{default:u(()=>[m("\u7BA1\u7406\u540E\u53F0")]),_:1})):k("",!0),t(T,{type:"primary",href:"/edit"},{default:u(()=>[m("\u5F00\u59CB\u521B\u4F5C")]),_:1}),t(T,{type:"danger",onClick:H},{default:u(()=>[m("\u9000\u51FA\u767B\u5F55")]),_:1})])])):k("",!0)])],4)}}});const ce=C(ue,[["__scopeId","data-v-1c89e97e"]]);const re={},_e=s=>(S("data-v-a7c8fbef"),s=s(),X(),s),de={class:"footer-block"},ie=_e(()=>e("nav",{class:"container"},[e("div",null,[e("a",{href:"https://github.com/XXdoOO/my-stack-front-end",target:"_blank"}," GitHub\u524D\u7AEF\u5730\u5740\uFF1Ahttps://github.com/XXdoOO/my-stack-front-end-vue3 "),e("a",{href:"https://github.com/XXdoOO/my-stack-front-end",target:"_blank"}," GitHub\u540E\u7AEF\u5730\u5740\uFF1Ahttps://github.com/XXdoOO/my-stack-back-end ")]),e("a",{href:"https://beian.miit.gov.cn/",target:"_blank"},"\u6E58ICP\u59072022006790\u53F7")],-1)),pe=[ie];function me(s,c){return p(),f("footer",de,pe)}const ve=C(re,[["render",me],["__scopeId","data-v-a7c8fbef"]]),fe=b({__name:"GoTop",setup(s){const c=g("none"),n=()=>{document.documentElement.scrollTop=0},_=()=>{let a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,d=window.outerHeight;a>d?c.value="flex":c.value="none"};return $(()=>{window.addEventListener("scroll",_)}),D(()=>{window.removeEventListener("scroll",_)}),(a,d)=>(p(),I(A,{icon:"arrow-down",onClick:d[0]||(d[0]=v=>n()),class:"goTop",style:O({display:c.value}),title:"\u8FD4\u56DE\u9876\u90E8"},null,8,["style"]))}});const ye=C(fe,[["__scopeId","data-v-6c38f624"]]),we=b({__name:"index",setup(s){return(c,n)=>{const _=M("RouterView");return p(),f(q,null,[t(ce),t(_),t(ve),t(ye)],64)}}});export{we as default};
